{"version":3,"sources":["../src/react-3d-gallery/UniversalModel.jsx","../src/react-3d-gallery/ProductViewer.jsx","../src/GalleryCarousel.tsx"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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","file":"index.mjs","sourcesContent":["'use client';\r\n\r\nimport { useRef, useState, useEffect, useMemo } from 'react';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\r\nimport * as THREE from 'three';\r\n\r\nexport default function UniversalModel({ modelUrl, rotation, position = [0, -0.8, 0], scale = 1.5 }) {\r\n    const meshRef = useRef();\r\n    const [error, setError] = useState(null);\r\n    const [model, setModel] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Load model\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n\r\n        const loadModel = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const fileExtension = modelUrl.split('.').pop().toLowerCase();\r\n                let loadedModel;\r\n\r\n                switch (fileExtension) {\r\n                    case 'glb':\r\n                    case 'gltf':\r\n                        const gltfLoader = new GLTFLoader();\r\n                        loadedModel = await new Promise((resolve, reject) => {\r\n                            gltfLoader.load(\r\n                                modelUrl,\r\n                                (gltf) => resolve(gltf.scene),\r\n                                undefined,\r\n                                reject\r\n                            );\r\n                        });\r\n                        break;\r\n\r\n                    case 'obj':\r\n                        const objLoader = new OBJLoader();\r\n                        loadedModel = await new Promise((resolve, reject) => {\r\n                            objLoader.load(\r\n                                modelUrl,\r\n                                (obj) => resolve(obj),\r\n                                undefined,\r\n                                reject\r\n                            );\r\n                        });\r\n                        break;\r\n\r\n                    case 'fbx':\r\n                        const fbxLoader = new FBXLoader();\r\n                        loadedModel = await new Promise((resolve, reject) => {\r\n                            fbxLoader.load(\r\n                                modelUrl,\r\n                                (fbx) => resolve(fbx),\r\n                                undefined,\r\n                                reject\r\n                            );\r\n                        });\r\n                        break;\r\n\r\n                    default:\r\n                        throw new Error(`Unsupported file format: ${fileExtension}`);\r\n                }\r\n\r\n                if (isMounted) {\r\n                    setModel(loadedModel);\r\n                    setLoading(false);\r\n                }\r\n            } catch (err) {\r\n                console.error('Failed to load 3D model:', err);\r\n                if (isMounted) {\r\n                    setError(err.message || 'Failed to load 3D model');\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        loadModel();\r\n\r\n        return () => {\r\n            isMounted = false;\r\n        };\r\n    }, [modelUrl]);\r\n\r\n    // Calculate scale and position\r\n    const transforms = useMemo(() => {\r\n        if (!model) return null;\r\n\r\n        const box = new THREE.Box3().setFromObject(model);\r\n        const size = box.getSize(new THREE.Vector3());\r\n        const center = box.getCenter(new THREE.Vector3());\r\n\r\n        const maxDim = Math.max(size.x, size.y, size.z);\r\n        const autoScale = 3.5 / maxDim;\r\n\r\n        return {\r\n            scale: autoScale,\r\n            position: [\r\n                -center.x * autoScale,\r\n                -center.y * autoScale,\r\n                -center.z * autoScale\r\n            ]\r\n        };\r\n    }, [model]);\r\n\r\n    if (error || loading || !model || !transforms) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <group rotation={[0, rotation, 0]}>\r\n            <primitive\r\n                ref={meshRef}\r\n                object={model}\r\n                scale={transforms.scale}\r\n                position={transforms.position}\r\n            />\r\n        </group>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { Canvas } from '@react-three/fiber';\r\nimport { OrbitControls } from '@react-three/drei';\r\nimport { useState, useEffect, Suspense } from 'react';\r\nimport UniversalModel from './UniversalModel';\r\n\r\nexport default function ProductViewer({\r\n    modelUrl,\r\n    height = '100vh',\r\n    overlay = null,\r\n    scrollMultiplier = 4\r\n}) {\r\n    const [scrollProgress, setScrollProgress] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            const scrollTop = window.scrollY;\r\n            const viewportHeight = window.innerHeight;\r\n            const totalScrollHeight = (scrollMultiplier * viewportHeight) - viewportHeight;\r\n            const progress = Math.min(Math.max(scrollTop / totalScrollHeight, 0), 1);\r\n            setScrollProgress(progress);\r\n        };\r\n\r\n        handleScroll();\r\n        window.addEventListener('scroll', handleScroll, { passive: true });\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', handleScroll);\r\n        };\r\n    }, [scrollMultiplier]);\r\n\r\n    const rotation = scrollProgress * Math.PI * 2;\r\n\r\n    return (\r\n        <div className=\"relative\" style={{ height: `${scrollMultiplier * 100}vh` }}>\r\n\r\n            <div className=\"sticky top-0 w-full bg-linear-to-b from-slate-900 to-slate-700\" style={{ height }}>\r\n                {overlay && (\r\n                    <div className=\"absolute bottom-12 left-0 right-0 z-10 px-8 pb-8 pointer-events-none flex justify-center\">\r\n                        {overlay}\r\n                    </div>\r\n                )}\r\n\r\n                <Canvas\r\n                    camera={{ position: [0, 0, 5], fov: 50 }}\r\n                    style={{ background: 'linear-gradient(to bottom, #0f172a, #334155)' }}\r\n                    gl={{\r\n                        preserveDrawingBuffer: true,\r\n                        antialias: true,\r\n                        alpha: false,\r\n                        powerPreference: 'high-performance'\r\n                    }}\r\n                    onCreated={({ gl }) => {\r\n                        gl.domElement.addEventListener('webglcontextlost', (event) => {\r\n                            event.preventDefault();\r\n                            console.warn('WebGL context lost, attempting to restore...');\r\n                        });\r\n                        gl.domElement.addEventListener('webglcontextrestored', () => {\r\n                            console.log('WebGL context restored');\r\n                        });\r\n                    }}\r\n                >\r\n                    <ambientLight intensity={0.5} />\r\n                    <directionalLight position={[10, 10, 5]} intensity={1} />\r\n                    <directionalLight position={[-10, -10, -5]} intensity={0.5} />\r\n\r\n                    <Suspense fallback={null}>\r\n                        <UniversalModel\r\n                            modelUrl={modelUrl}\r\n                            rotation={rotation}\r\n                        />\r\n                    </Suspense>\r\n\r\n                    <OrbitControls enableZoom={false} enablePan={false} enabled={false} />\r\n                </Canvas>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { ProductViewer } from './react-3d-gallery';\r\nimport { ModelData } from './types/model';\r\n\r\ninterface GalleryCarouselProps {\r\n    models: ModelData[];\r\n    showNavigation?: boolean;\r\n    showArrows?: boolean;\r\n    showDots?: boolean;\r\n    isLoading?: boolean;\r\n    error?: string | null;\r\n    height?: string;\r\n    scrollMultiplier?: number;\r\n}\r\n\r\nexport default function GalleryCarousel({\r\n    models,\r\n    showNavigation = false,\r\n    showArrows = false,\r\n    showDots = false,\r\n    isLoading = false,\r\n    error = null,\r\n    height = '80vh',\r\n    scrollMultiplier = 4\r\n}: GalleryCarouselProps) {\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n    // Loading state\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"h-screen w-full flex items-center justify-center bg-slate-900\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mb-4\"></div>\r\n                    <p className=\"text-white/70\">Loading Gallery...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Error state\r\n    if (error) {\r\n        return (\r\n            <div className=\"h-screen w-full flex flex-col items-center justify-center bg-linear-to-b from-slate-900 to-slate-700\">\r\n                <div className=\"text-center px-8\">\r\n                    <h2 className=\"text-3xl md:text-4xl font-bold text-white drop-shadow-lg mb-2\">\r\n                        3D Gallery\r\n                    </h2>\r\n                    <p className=\"text-base md:text-lg text-white/60 drop-shadow-md mb-4\">\r\n                        {error}\r\n                    </p>\r\n                    <p className=\"text-sm text-white/40\">Please check back later</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // No models\r\n    if (!models || models.length === 0) {\r\n        return (\r\n            <div className=\"h-screen w-full flex items-center justify-center bg-slate-900\">\r\n                <div className=\"text-center\">\r\n                    <h3 className=\"text-white text-2xl font-bold mb-2\">No Models Available</h3>\r\n                    <p className=\"text-slate-400\">Please check back later</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const goToNext = () => {\r\n        setCurrentIndex((prev) => (prev + 1) % models.length);\r\n    };\r\n\r\n    const goToPrevious = () => {\r\n        setCurrentIndex((prev) => (prev - 1 + models.length) % models.length);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!showNavigation || models.length <= 1) return;\r\n\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (e.key === 'ArrowLeft') {\r\n                goToPrevious();\r\n            } else if (e.key === 'ArrowRight') {\r\n                goToNext();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [showNavigation, models.length]);\r\n\r\n    const currentModel = models[currentIndex];\r\n\r\n    const overlay = (\r\n        <div className=\"text-center\">\r\n            <h2 className=\"text-3xl md:text-4xl font-bold text-white drop-shadow-lg mb-2\">\r\n                {currentModel.name}\r\n            </h2>\r\n            <p className=\"text-base md:text-lg text-white/80 drop-shadow-md mb-4\">\r\n                {currentModel.description}\r\n            </p>\r\n            <div className=\"flex items-center justify-center gap-2 text-sm text-white/60\">\r\n                <span>{currentIndex + 1} / {models.length}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div className=\"relative\">\r\n                <ProductViewer\r\n                    modelUrl={currentModel.modelUrl}\r\n                    height={height || currentModel.height}\r\n                    overlay={overlay as any}\r\n                    scrollMultiplier={scrollMultiplier}\r\n                />\r\n            </div>\r\n\r\n            {/* Navigation Container - Fixed within viewport */}\r\n            <div className=\"fixed inset-0 pointer-events-none\" style={{ height: height || '80vh' }}>\r\n                {/* Navigation Buttons */}\r\n                {showNavigation && showArrows && models.length > 1 && (\r\n                    <>\r\n                        <div className=\"absolute left-8 top-1/2 -translate-y-1/2 z-30 pointer-events-auto\">\r\n                            <button\r\n                                onClick={goToPrevious}\r\n                                className=\"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white p-4 rounded-full transition-all duration-300 shadow-lg border border-white/30\"\r\n                                aria-label=\"Previous model\"\r\n                            >\r\n                                <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M15 19l-7-7 7-7\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"absolute right-8 top-1/2 -translate-y-1/2 z-30 pointer-events-auto\">\r\n                            <button\r\n                                onClick={goToNext}\r\n                                className=\"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white p-4 rounded-full transition-all duration-300 shadow-lg border border-white/30\"\r\n                                aria-label=\"Next model\"\r\n                            >\r\n                                <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M9 5l7 7-7 7\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {/* Dots Indicator */}\r\n                {showNavigation && showDots && models.length > 1 && (\r\n                    <div className=\"absolute bottom-8 left-0 right-0 z-30 flex justify-center gap-2 pointer-events-auto\">\r\n                        {models.map((_, index) => (\r\n                            <button\r\n                                key={index}\r\n                                onClick={() => setCurrentIndex(index)}\r\n                                className={`w-2 h-2 rounded-full transition-all duration-300 ${index === currentIndex\r\n                                        ? 'bg-white w-8'\r\n                                        : 'bg-white/40 hover:bg-white/60'\r\n                                    }`}\r\n                                aria-label={`Go to model ${index + 1}`}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]}